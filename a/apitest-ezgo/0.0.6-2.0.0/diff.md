# Comparing `tmp/apitest_ezgo-0.0.6-py2-none-any.whl.zip` & `tmp/apitest_ezgo-2.0.0-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,17 +1,17 @@
-Zip file size: 13955 bytes, number of entries: 15
--rw-rw-rw-  2.0 fat     5235 b- defN 23-Apr-10 07:11 apitest_ezgo/Compare.py
--rw-rw-rw-  2.0 fat     9947 b- defN 23-Apr-10 06:34 apitest_ezgo/DbHelper.py
+Zip file size: 13925 bytes, number of entries: 15
+-rw-rw-rw-  2.0 fat     5287 b- defN 23-Apr-23 02:33 apitest_ezgo/Compare.py
+-rw-rw-rw-  2.0 fat     9890 b- defN 23-Apr-21 10:09 apitest_ezgo/DbHelper.py
 -rw-rw-rw-  2.0 fat     4035 b- defN 23-Apr-10 07:13 apitest_ezgo/FastRequest.py
--rw-rw-rw-  2.0 fat      237 b- defN 23-Apr-11 07:29 apitest_ezgo/__about__.py
+-rw-rw-rw-  2.0 fat      237 b- defN 23-Apr-23 02:24 apitest_ezgo/__about__.py
 -rw-rw-rw-  2.0 fat       53 b- defN 23-Feb-09 11:57 apitest_ezgo/__init__.py
+-rw-rw-rw-  2.0 fat      901 b- defN 23-Apr-21 09:59 apitest_ezgo/compat.py
 -rw-rw-rw-  2.0 fat        0 b- defN 23-Jan-16 03:14 apitest_ezgo/Har2Template/__init__.py
--rw-rw-rw-  2.0 fat     1854 b- defN 23-Mar-31 09:43 apitest_ezgo/Har2Template/cli.py
--rw-rw-rw-  2.0 fat      931 b- defN 23-Mar-31 10:00 apitest_ezgo/Har2Template/compat.py
--rw-rw-rw-  2.0 fat     6467 b- defN 23-Apr-07 03:11 apitest_ezgo/Har2Template/core.py
--rw-rw-rw-  2.0 fat     3519 b- defN 23-Apr-07 03:47 apitest_ezgo/Har2Template/utils.py
--rw-rw-rw-  2.0 fat      371 b- defN 23-Apr-11 07:29 apitest_ezgo-0.0.6.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Apr-11 07:29 apitest_ezgo-0.0.6.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       69 b- defN 23-Apr-11 07:29 apitest_ezgo-0.0.6.dist-info/entry_points.txt
--rw-rw-rw-  2.0 fat       13 b- defN 23-Apr-11 07:29 apitest_ezgo-0.0.6.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     1274 b- defN 23-Apr-11 07:29 apitest_ezgo-0.0.6.dist-info/RECORD
-15 files, 34097 bytes uncompressed, 11819 bytes compressed:  65.3%
+-rw-rw-rw-  2.0 fat     1844 b- defN 23-Apr-23 06:27 apitest_ezgo/Har2Template/cli.py
+-rw-rw-rw-  2.0 fat     6466 b- defN 23-Apr-21 09:44 apitest_ezgo/Har2Template/core.py
+-rw-rw-rw-  2.0 fat     3506 b- defN 23-Apr-21 09:44 apitest_ezgo/Har2Template/utils.py
+-rw-rw-rw-  2.0 fat      366 b- defN 23-Apr-23 06:28 apitest_ezgo-2.0.0.dist-info/METADATA
+-rw-rw-rw-  2.0 fat      110 b- defN 23-Apr-23 06:28 apitest_ezgo-2.0.0.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       69 b- defN 23-Apr-23 06:28 apitest_ezgo-2.0.0.dist-info/entry_points.txt
+-rw-rw-rw-  2.0 fat       13 b- defN 23-Apr-23 06:28 apitest_ezgo-2.0.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     1262 b- defN 23-Apr-23 06:28 apitest_ezgo-2.0.0.dist-info/RECORD
+15 files, 34039 bytes uncompressed, 11815 bytes compressed:  65.3%
```

## zipnote {}

```diff
@@ -9,38 +9,38 @@
 
 Filename: apitest_ezgo/__about__.py
 Comment: 
 
 Filename: apitest_ezgo/__init__.py
 Comment: 
 
-Filename: apitest_ezgo/Har2Template/__init__.py
+Filename: apitest_ezgo/compat.py
 Comment: 
 
-Filename: apitest_ezgo/Har2Template/cli.py
+Filename: apitest_ezgo/Har2Template/__init__.py
 Comment: 
 
-Filename: apitest_ezgo/Har2Template/compat.py
+Filename: apitest_ezgo/Har2Template/cli.py
 Comment: 
 
 Filename: apitest_ezgo/Har2Template/core.py
 Comment: 
 
 Filename: apitest_ezgo/Har2Template/utils.py
 Comment: 
 
-Filename: apitest_ezgo-0.0.6.dist-info/METADATA
+Filename: apitest_ezgo-2.0.0.dist-info/METADATA
 Comment: 
 
-Filename: apitest_ezgo-0.0.6.dist-info/WHEEL
+Filename: apitest_ezgo-2.0.0.dist-info/WHEEL
 Comment: 
 
-Filename: apitest_ezgo-0.0.6.dist-info/entry_points.txt
+Filename: apitest_ezgo-2.0.0.dist-info/entry_points.txt
 Comment: 
 
-Filename: apitest_ezgo-0.0.6.dist-info/top_level.txt
+Filename: apitest_ezgo-2.0.0.dist-info/top_level.txt
 Comment: 
 
-Filename: apitest_ezgo-0.0.6.dist-info/RECORD
+Filename: apitest_ezgo-2.0.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## apitest_ezgo/Compare.py

```diff
@@ -1,11 +1,12 @@
 # coding=utf-8
 import json
 import logging
 import jsonpath
+from apitest_ezgo.compat import str, builtin_str
 from datetime import datetime, date
 from deepdiff import DeepDiff
 from tabulate import tabulate
 
 
 def compare_json(json1, json2, exclude_paths=None, significant_digits=4, format_value=True, **kwargs):
     """
@@ -60,35 +61,35 @@
     @return: 无
     """
     if diff_res:
         header = ["type", "old", "new", "details"]
         diff_values = []
         for item in diff_res.items():
             for i in item:
-                if isinstance(i, set):
+                if not isinstance(i, str):
                     for ele in list(i):
                         diff_values.append([ele.report_type, ele.t1, ele.t2, ele])
         logging.warning(tabulate(diff_values, headers=header, tablefmt='grid'))
-        raise Exception, "结果比对失败"
+        raise ValueError("结果比对失败")
 
 
 def values_format(obj, significant_digits):
     if isinstance(obj, (list, set)):
         for item in obj:
             values_format(item, significant_digits)
     elif isinstance(obj, dict):
         for k, v in obj.items():
             if v in ("", None):
                 obj[k] = ""
-            elif isinstance(v, (str, unicode)):
+            elif isinstance(v, str):
                 try:
                     v = json.loads(v)
                     obj[k] = values_format(v, significant_digits)
                 except Exception:
-                    obj[k] = str(v)
+                    obj[k] = builtin_str(v)
             elif isinstance(v, (int, float)):
                 obj[k] = round(v, significant_digits)
             elif isinstance(v, (datetime, date)):
                 obj[k] = v.strftime('%Y-%m-%d %H:%M:%S')
             else:
                 obj[k] = values_format(v, significant_digits)
     return obj
```

## apitest_ezgo/DbHelper.py

```diff
@@ -258,30 +258,30 @@
             print(e)
             conn.rollback()
             self.close(cursor, conn)
             return count
 
 
 if __name__ == '__main__':
-    pass
-    # import psycopg2
-    # import psycopg2.extras
-    # db_conf = {
-    #     "host": '10.66.241.19',
-    #     "port": '5434',
-    #     "user": 'postgres',
-    #     "password": 'login@123',
-    #     "database": 'scanner',
-    #     "cursor_factory": psycopg2.extras.RealDictCursor
-    # }
-    # db = SqLHelper(creator=psycopg2, **db_conf)
-    # # 查询单条
-    # sql1 = 'SELECT x.* FROM public.rule_item x WHERE x.rule_type IN (5) AND x.match_type IN (0)'
-    # ret = db.select_all(sql=sql1)
-    # print(ret)
+    # pass
+    import psycopg2
+    import psycopg2.extras
+    db_conf = {
+        "host": '10.xx.xx.xx',
+        "port": '',
+        "user": '',
+        "password": '',
+        "database": '',
+        "cursor_factory": psycopg2.extras.RealDictCursor
+    }
+    db = SqLHelper(creator=psycopg2, **db_conf)
+    # 查询单条
+    sql1 = 'SELECT x.* FROM public.rule_item x WHERE x.rule_type IN (5) AND x.match_type IN (0)'
+    ret = db.select_all(sql=sql1)
+    print(ret)
     # 增加单条
     # sql2 = 'insert into userinfo (name,password) VALUES (%s,%s)'
     # ret = db.insertone(sql2, ('old2','22222'))
     # print(ret)
     # 增加多条
     # sql3 = 'insert into userinfo (name,password) VALUES (%s,%s)'
     # li = li = [
```

## apitest_ezgo/__about__.py

```diff
@@ -1,8 +1,8 @@
 __title__ = 'apitest_ezgo'
 __description__ = 'easy http interface test frame'
 __url__ = ''
-__version__ = '0.0.6'
+__version__ = '2.0.0'
 __author__ = 'Gawen'
 __author_email__ = '502286126@qq.com'
 __license__ = 'Apache-2.0'
 __copyright__ = 'Copyright 2022 Gawen'
```

## apitest_ezgo/Har2Template/cli.py

```diff
@@ -18,37 +18,37 @@
 def main():
     """ HAR converter: parse command line options and run commands.
     """
     parser = argparse.ArgumentParser(description=__description__)
     parser.add_argument('-v', '--version', action='version', version=get_version(), help='show version')
 
     subparsers = parser.add_subparsers(help="")
-    sub_parser = subparsers.add_parser("new", help=u"""usage: NSFastHttp  [-s] har_source_file  [-d] dest_file_path
+    sub_parser = subparsers.add_parser("new", help=u"""usage: apitest_ezgo new  [-s] har_source_file  [-d] dest_file_path
                                             egg: NSFastHttp new demo.har .
                                             har_source_file： har文件所在路径,当前路径下的demo.har;
                                             dest_file_path: 目的文件路径，.表示当前路径""")
     sub_parser.add_argument("-s", "--source", dest="har_source_file", help=u"har_source_file： har文件所在路径")
     sub_parser.add_argument("-d", "--dest", dest="dest_file_path", default=".",
                             help=u"dest_file_path： 目的文件路径，默认har所在路径")
 
     args = parser.parse_args()
-    # print (args)
 
     har_source_file = args.har_source_file
     if not har_source_file or not har_source_file.endswith(".har"):
         logging.error("HAR file not specified.")
         sys.exit(1)
-    print args
+    print(args)
 
     HarParser(
         har_source_file, args.dest_file_path
     ).gen_template()
     return 0
 
+
 def test(har_source_file, dest_file_path):
     HarParser(
         har_source_file, dest_file_path
     ).gen_template()
 
 
 if __name__ == '__main__':
-    test(r"C:\Users\nsfocus\Desktop\units.har", ".")
+    test(r"C:\Users\nsfocus\Desktop\units.har", ".")
```

## apitest_ezgo/Har2Template/core.py

```diff
@@ -1,16 +1,15 @@
 # coding=utf-8
-import base64
 import json
 import logging
 import os
 import sys
 
 import utils
-from compat import urlparse
+from apitest_ezgo.compat import urlparse
 
 try:
     from json.decoder import JSONDecodeError
 except ImportError:
     JSONDecodeError = ValueError
 
 IGNORE_REQUEST_HEADERS = [
```

## apitest_ezgo/Har2Template/utils.py

```diff
@@ -1,14 +1,14 @@
 import io
 import json
 import logging
 import sys
 import yaml
 import datetime
-from apitest_ezgo.Har2Template.compat import bytes, ensure_ascii, str, unquote
+from apitest_ezgo.compat import bytes, ensure_ascii, str, unquote
 
 
 class ComplexEncoder(json.JSONEncoder):
     def default(self, obj):
         if isinstance(obj, datetime):
             return obj.strftime('%Y-%m-%d %H:%M:%S')
         elif isinstance(obj, datetime.date):
```

## Comparing `apitest_ezgo/Har2Template/compat.py` & `apitest_ezgo/compat.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,12 +1,10 @@
 # -*- coding: utf-8 -*-
 
 """
-httprunner.compat
-~~~~~~~~~~~~~~~~~
 
 This module handles import compatibility issues between Python 2 and
 Python 3.
 """
 
 import sys
 
@@ -35,22 +33,23 @@
 if is_py2:
     import urlparse
     from urllib import unquote
 
     ensure_ascii = False
     builtin_str = str
     bytes = str
-    str = (unicode, bytes)
+    str = (str, unicode, bytes)
     basestring = basestring
     numeric_types = (int, long, float)
     integer_types = (int, long)
 
 elif is_py3:
     import urllib.parse as urlparse
     from urllib.parse import unquote
+
     ensure_ascii = False
     builtin_str = str
     str = str
     bytes = bytes
     basestring = (str, bytes)
     numeric_types = (int, float)
     integer_types = (int,)
```

## Comparing `apitest_ezgo-0.0.6.dist-info/RECORD` & `apitest_ezgo-2.0.0.dist-info/RECORD`

 * *Files 22% similar despite different names*

```diff
@@ -1,15 +1,15 @@
-apitest_ezgo/Compare.py,sha256=aA1rCXKEtZhzsU0UlMxTN2t_tBs-nzQdy9GSK5Nyjts,5235
-apitest_ezgo/DbHelper.py,sha256=QUjjVKXJ8idMNeD0ruJakiCd77Fx_JZrkuW79RVvxSk,9947
+apitest_ezgo/Compare.py,sha256=cXD4UFvHFTKnj_eMo9qD-AgsShPMorVQsw4mwhSDtuU,5287
+apitest_ezgo/DbHelper.py,sha256=taQBNEUMp5mvTkE41jdt8-S3J9Q2GFwys082PGgbBUw,9890
 apitest_ezgo/FastRequest.py,sha256=dJURPhlq_7npDkEY2VrRy9s04aQ51qV5hIGZL-6-qYA,4035
-apitest_ezgo/__about__.py,sha256=vIUinmANX4OTBnmhqpP5DVMRHJnZcmEi8MHVsc8_4QI,237
+apitest_ezgo/__about__.py,sha256=PKAVRhWXXARKuOLtOLRjvcskQwsnURLZbn9ztyjncOM,237
 apitest_ezgo/__init__.py,sha256=uM6HTTSwSziyZus-ubqZ-VKNG3KKd4kBHOlj7lR2OhQ,53
+apitest_ezgo/compat.py,sha256=U6y6S0jiigCV76iOZZoU26EYuxaIhnvT1nZr3v-nSCA,901
 apitest_ezgo/Har2Template/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-apitest_ezgo/Har2Template/cli.py,sha256=ZCRAPECXeISO_SW53N0oyxO-B-9lYBWUPGJfDaqX1QA,1854
-apitest_ezgo/Har2Template/compat.py,sha256=WuUsCFx7TLCiAN-u3CPWILWnMmEaKJdcofD-ZRPJRdE,931
-apitest_ezgo/Har2Template/core.py,sha256=4ZV_gSPfatFL_iCuPOf0GWmZxsylBgX5x6gYjFSeuEk,6467
-apitest_ezgo/Har2Template/utils.py,sha256=oU22kMbbvWKw8s30Gifo3PW-dgFUMWsdl1PFEoEcomk,3519
-apitest_ezgo-0.0.6.dist-info/METADATA,sha256=z_O8qJaMZjfdtp_xy199tuVCmbjm8adyouu8sxrB4Es,371
-apitest_ezgo-0.0.6.dist-info/WHEEL,sha256=1VPi6hfNQaRRNuEdK_3dv9o8COtLGnHWJghhj4CQ28k,92
-apitest_ezgo-0.0.6.dist-info/entry_points.txt,sha256=aiep-Pjj130COhWjsCumlAgLfs_UrCKNLiW0rCprSHM,69
-apitest_ezgo-0.0.6.dist-info/top_level.txt,sha256=XZrZdozvAJVSlCHruFoGsK7hTau52-om-M9nnxTqOXE,13
-apitest_ezgo-0.0.6.dist-info/RECORD,,
+apitest_ezgo/Har2Template/cli.py,sha256=zXDmePVyKb7mRE__8bZQRI74Fjw8VKMVWYHHgBU2uGo,1844
+apitest_ezgo/Har2Template/core.py,sha256=ib7X-miBSHbxFAhDq24bgXlJA4jK2y3YdS0nukk4OSg,6466
+apitest_ezgo/Har2Template/utils.py,sha256=6bdbmru4nCCXK4J9xYMh-00IcZFZj6zw1wFQjbMH5VM,3506
+apitest_ezgo-2.0.0.dist-info/METADATA,sha256=7LcxRPkANzzzh2A6mGOZ1UzEOaTojUc6Dlp9ECimDQI,366
+apitest_ezgo-2.0.0.dist-info/WHEEL,sha256=z9j0xAa_JmUKMpmz72K0ZGALSM_n-wQVmGbleXx2VHg,110
+apitest_ezgo-2.0.0.dist-info/entry_points.txt,sha256=aiep-Pjj130COhWjsCumlAgLfs_UrCKNLiW0rCprSHM,69
+apitest_ezgo-2.0.0.dist-info/top_level.txt,sha256=XZrZdozvAJVSlCHruFoGsK7hTau52-om-M9nnxTqOXE,13
+apitest_ezgo-2.0.0.dist-info/RECORD,,
```

